{% schema %}
{
  "name": "Custom Grid",
  "max_blocks": 6,
  "blocks": [
    {
      "type": "product",
      "name": "Product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Select Product"
        }
      ]
    }
  ]
}
{% endschema %}

<section class="custom-grid py-16 px-6 bg-white">
  <div class="max-w-7xl mx-auto">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      {% for block in section.blocks %}
        {% if block.settings.product %}
          {% assign product = all_products[block.settings.product] %}
          <div class="group relative border rounded-2xl overflow-hidden shadow hover:shadow-lg transition bg-gray-50">
            <a href="{{ product.url }}">
              <img src="{{ product.featured_image | image_url: width: 600 }}" 
                   alt="{{ product.title }}" 
                   class="w-full h-72 object-cover group-hover:scale-105 transition duration-500"/>
            </a>
            <div class="p-4 text-center">
              <h3 class="text-lg font-semibold mb-2">{{ product.title }}</h3>
              <p class="text-gray-600 mb-4">{{ product.price | money }}</p>
              <a href="{{ product.url }}" 
                 class="inline-block bg-black text-white px-4 py-2 rounded-full text-sm hover:bg-gray-800 transition">
                View Product
              </a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>
